{
  "target": "dep",

  "input_flights_path": [
    "../flightrightdata/data/raw_bts/Year=2023/Month=*/flights.parquet",
    "../flightrightdata/data/raw_bts/Year=2024/Month=*/flights.parquet",
    "../flightrightdata/data/raw_bts/Year=2025/Month=*/flights.parquet"
  ],

  "airports_csv": "../flightrightdata/data/meta/airports.csv",
  "airports": ["DEN","MDW","DAL","PHX","LAS","BWI","HOU","OAK","LAX","SAN","SJC","SMF","ONT","BUR","SNA","LGB","PDX","SEA","SLC","PHX","TUS","ABQ","ELP","AUS","SAT","DFW","IAH","MSY","BNA","ATL","MCO","TPA","FLL","MIA","PBI","JAX","RSW","RDU","CLT","ORF","RIC","CMH","CLE","DTW","MSP","STL","MCI","OKC","ICT"],
  "airlines": ["WN"],

  "start_date": "2023-03-01",
  "end_date": "2025-06-30",

  "weather": {
    "cache_dir": "data/weather_cache",
    "daily": true,
    "hourly_at_dep": true
  },

  "add_aircraft_age": true,
  "aircraft_registry_csv": "../flightrightdata/data/meta/aircraft_registry_clean.csv",

  "output_enriched_unbalanced_path": "../flightrightdata/data/intermediate/WN_50_23-25_unbalanced.parquet",

  "history_flights_path": [
    "../flightrightdata/data/raw_bts/Year=2023/Month=*/flights.parquet",
    "../flightrightdata/data/raw_bts/Year=2024/Month=*/flights.parquet",
    "../flightrightdata/data/raw_bts/Year=2025/Month=*/flights.parquet"
  ],
  "history_lookback_days": 60,
  "history_output_path": "../flightrightdata/data/intermediate/history_pool_dep_WN_50_23-25.parquet",

  "features_dep": {
    "holiday_windows": {
      "thanksgiving": 2,
      "christmas": 3
    },
    "n_recent_flightnum_od": 20,
    "n_days_flightnum_od": 14,
    "low_support_leq": 2,
    "n_days_carrier_network": 14,
  "add_aircraft_type": true,
  "faa_registry": {
    "master_path": "../flightrightdata/data/meta/master.txt",
    "acftref_path": "../flightrightdata/data/meta/acftref.txt"
  }

  },
  "output_features_unbalanced_path": "../flightrightdata/data/processed/features_dep_WN_50_23-25_unbalanced.parquet",

  "balance": {
    "thresholds": [15, 30, 45, 60],
    "delay_col": "DepDelayMinutes"
  },

  "feature_balance": {
    "enabled": true,
    "eval": {
      "enabled": true,
      "by": "last_days",
      "last_days": 90,
      "output_path": "../flightrightdata/data/processed/features_dep_WN_50_23-25_eval_unbalanced.parquet"
    },
    "thresholds": [15, 30, 45, 60],
    "pos_frac": 0.50,
    "seed": 42,
    "max_rows": 200000,
    "output_template": "../flightrightdata/data/processed/train_dep_ge{thr}_balanced_WN_50_23-25.parquet"
  }
}
